
jQuery(document).ready(function(a){a(".itcb-wp-color-picker").wpColorPicker();a('label[for="itcb-background-color"]').hide();a(".itcb-background-image-url").attr("src")?a(".itcb-background-image-url").show():a(".itcb-background-image-url").hide();a("input#itcb-background-image").val()?(a(".itcb-add-media-text").hide(),a(".itcb-remove-media, .itcb-background-image-options, .itcb-background-image-url").show()):(a(".itcb-add-media-text").show(),a(".itcb-remove-media, .itcb-background-image-options, .itcb-background-image-url").hide());
a(".itcb-remove-media").click(function(b){b.preventDefault();a("#itcb-background-image").val("");a(".itcb-add-media-text").show();a(".itcb-remove-media, .itcb-background-image-url, .itcb-background-image-options").hide()});var b;a(".itcb-add-media").click(function(d){d.preventDefault();b||(b=wp.media.frames.itcb_custom_backgrounds_frame=wp.media({className:"media-frame itcb-custom-background-per-page-frame",frame:"select",multiple:!1,title:itcb_custom_backgrounds.title,library:{type:"image"},button:{text:itcb_custom_backgrounds.button}}),
b.on("select",function(){var c=b.state().get("selection").first().toJSON();a("#itcb-background-image").val(c.id);a(".itcb-background-image-url").attr("src",c.url);a(".itcb-add-media-text").hide();a(".itcb-background-image-url, .itcb-remove-media, .itcb-background-image-options").show()}));b.open()})});